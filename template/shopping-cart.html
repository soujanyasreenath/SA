<h1 class="font-header font-uppercase font-normal fw-200 text-left padding-lr">
  Your Shopping Bag <span class="mobile-only-inline">- <span class="fw-400">{{cart_total_items}}</span> items</span>
</h1>
<section class="list-container">
  <div class="tabular-cart">
    <div class="table-row table-head mobile-hidden">
      <div class="table-cell cell-21">
        <p class="cell-items font-small fw-300 font-uppercase">
          <span class="fw-400">{{cart_total_items}}</span> items
        </p>
      </div>
      <div class="table-cell cell-46">
        <!-- empty content for 2nd cell -->
      </div>

      <div class="table-cell cell-eq">
        <p class="cell-items font-small fw-300 font-uppercase">
          Size
        </p>
      </div>

      <div class="table-cell cell-eq">
        <p class="cell-items font-small fw-300 font-uppercase">
          Qty
        </p>
      </div>

      <div class="table-cell cell-eq">
        <p class="cell-items font-small fw-300 font-uppercase">
          Price
        </p>
      </div>
    </div>

    <div class="table-row table-body" ng-repeat="cart_item in myCart">
      <div class="table-cell">
        <p class="cell-items">
          <img ng-src="{{cart_item.p_image}}" alt="{{cart_item.p_name}}">
        </p>
      </div>
      <div class="table-cell">
        <div class="cell-items font-small fw-300">
          <p class="font-uppercase fw-400">
            {{cart_item.p_name}}
          </p>
          <p class="lh19-p">
            <span>
              Style # :
            </span>
            <span class="font-uppercase">
              {{cart_item.p_style}}
            </span>
          </p>
          <p class="lh19-p">
            <span>Colour : </span><span class="font-capitalize">{{cart_item.p_selected_color["name"]}}</span>
          </p>
          <p class="lh19-p mobile-only">
            <span>Size : </span><span class="font-capitalize">{{cart_item.p_selected_size["code"]}}</span>
          </p>
          <p class="mobile-only">
            <span>Qty : </span> <input type="text" name="qty" value="{{cart_item.p_quantity}}" class="input-qty" ng-model="cart_item.p_quantity">
          </p>
          <p class="discounted-price mobile-only" ng-if="cart_item.p_originalprice != cart_item.p_price">
            <span class="dollar">{{cart_item.c_currency}}</span> <del class="fw-300 price">{{cart_item.p_originalprice}}.00</del>
          </p>
          <p class="pay-price mobile-only">
            <span class="dollar">{{cart_item.c_currency}}</span> <span class="fw-400 price">{{cart_item.p_price}}.00</span>
          </p>
          <div class="mob-sty-links">
            <p class="font-uppercase links-ed-rm">
              <a ng-click="showEditModal(cart_item.p_id-1)" class="font-small">Edit</a> <span class="divider-rule">|</span> 
              <a ng-click="removeProduct(cart_item.p_id-1)" class="font-small">X &nbsp; Remove </a> <span class="divider-rule">|</span> 
              <a href="#" class="font-small">Save for later</a>
            </p>
          </div>
        </div>
      </div>

      <div class="table-cell mobile-hidden">
        <p class="cell-items font-small fw-400 text-center font-uppercase">
          {{cart_item.p_selected_size["code"]}}
        </p>
      </div>

      <div class="table-cell mobile-hidden">
        <p class="cell-items font-small fw-300 text-center">
          <input type="text" name="qty" value="{{cart_item.p_quantity}}" class="input-qty" ng-model="cart_item.p_quantity">
        </p>
      </div>

      <div class="table-cell cell-eq mobile-hidden">
        <div class="cell-items font-small fw-300 font-uppercase text-center">
          <p class="discounted-price" ng-if="cart_item.p_originalprice != cart_item.p_price">
            <span class="dollar">{{cart_item.c_currency}}</span> <del class="fw-300 price">{{cart_item.p_originalprice}}.00</del>
          </p>
          <p>
            <span class="dollar">{{cart_item.c_currency}}</span> <span class="fw-400 price">{{cart_item.p_price}}.00</span>
          </p>
        </div>
      </div>
    </div>
  </div>
</section>
<section class="calc-container">
  <div class="mobile-hidden take-left text-left query-block">
    <p class="font-small lh19-p">
      Need help<br/>or have questions?
    </p>
    <p class="font-small lh19-p">
      Call customer service at<br/><a href="tel:1-8000-555-5555">1-8000-555-5555</a>
    </p>
    <p class="font-small lh19-p">
      <a href="#" class="font-underline">Chat with one of<br/>our stylists</a>
    </p>
    <p class="font-small lh19-p">
      <a href="#" class="font-underline">See return<br/>&amp; exchange policy</a>
    </p>
  </div>

  <div class="total-block-container take-right text-left">
    <div class="coupon-code-block">
      <p class="left-block mb-blk font-uppercase font-small fw-300 lh15-p">
        Enter promotion code<br/>or gift card
      </p>
      <p class="right-block mb-blk font-uppercase font-small fw-300 lh15-p">
        <input type="text" name="coupon" class="coupon-inp" /> <button class="btn btn-white btn-pos">Apply</button>
      </p>
    </div>

    <div class="total-block-wrap">
      <div class="total-block-repeat">
        <p class="left-block font-uppercase font-small fw-400 lh15-p">
          Subtotal
        </p>
        <p class="right-block font-uppercase font-small fw-300 lh15-p">
          <span class="dollar">$</span> <span class="fw-400 price">{{ subTotal() }}.00</span>
        </p>
      </div>
      <div class="total-block-repeat">
        <p class="left-block font-uppercase font-small fw-400 lh15-p">
          Promotional Discount<br/>
          <span class="font-12 fw-200 font-lowercase">
            You get <span>{{percentage}}% off</span> because you have {{cart_total_items}} items in your cart. <span ng-show="percentage != 25">Add {{10 - cart_total_items}} more to get 25% off.</span>
          </span>
        </p>
        <p class="right-block font-uppercase font-small fw-300 lh15-p">
          - <span class="dollar">$</span> <span class="fw-400 price">{{ discountLogic() }}</span>
        </p>
      </div>
      <div class="total-block-repeat">
        <p class="left-block font-uppercase font-small fw-400 lh15-p">
          Estimated Shipping*<br/>
          <span class="font-12 fw-200 font-lowercase" ng-show="subTotal() >= 50">You qualify for the free shipping<br/>because your order is over $50*.</span>
        </p>
        <p class="right-block font-uppercase font-small fw-300 lh15-p">
          <span ng-show="subTotal() >= 50">Free</span>
          <span ng-show="subTotal() < 50">
            <span class="dollar">$</span> <span class="fw-400 price">10.00</span>
          </span>
        </p>
      </div>
      <hr style="-webkit-margin-before: 10px;">
      <div class="total-block-repeat">
        <p class="left-block font-uppercase fw-400 lh15-p">
          Estimated Total<br/>
          <span class="font-12 fw-200 font-lowercase">Tax will be applied during checkout</span>
        </p>
        <p class="right-block font-uppercase fw-300 lh15-p">
          <span class="dollar">$</span> <span class="fw-400 price">{{ estTotal }}</span>
        </p>
      </div>
    </div>
  </div>
  <div class="clearfix"></div>
  <div class="main-links-wrapper">
    <p class="text-links main-links">
      <button class="btn btn-blue xs-mobile-only">Checkout</button>
      <a ng-click="showModal()" class="display-inbl font-small font-uppercase font-underline fw-300">Continue Shopping</a>
      <button class="btn btn-blue xs-mobile-hidden">Checkout</button>
    </p>
    <p class="text-secure font-small fw-200">
      <img src="/assets/lock.jpg" alt="secure shopping" class="display-inbl secure-lock"> Secure checkout. Shopping is always safe &amp; secure.
    </p>
  </div>
  <hr>
  <div class="mobile-only">
    <p class="font-small text-left padding-lr">
      <a href="#" class="font-uppercase font-underline">Sign in</a> to save your cart and have access to your items on mobile, tablet and desktop.
    </p>
  </div>
  <sap-modal show='editModalShown' id="showProductEdit" on-closed='hideEditModalCallback("editModalShown");'>
    <article class="product-container">
      <div ng-include="'/template/product.html'"></div>
    </article>
  </sap-modal>
</section>

<sap-modal show='addModalShown' id="showProduct" on-closed='hideModalCallback("addModalShown");'>
  <article class="product-container">
    <div ng-include="'/template/product.html'"></div>
  </article>
</sap-modal>